---
title: Prerequisites
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';
import useBaseUrl from '@docusaurus/useBaseUrl';

# Prerequisites

Before installing and configuring the Operator Service, your node infrastructure must meet specific technical requirements to ensure reliable operation.

## Execution Client

Your execution node must be fully synced and running. Any execution client that supports the [ETH Execution API specification ↗](https://ethereum.github.io/execution-apis/api-documentation/) can be used:

**[Nethermind ↗](https://launchpad.ethereum.org/en/nethermind)** - (Ethereum, Gnosis)

**[Besu ↗](https://launchpad.ethereum.org/en/besu)** - (Ethereum)

**[Erigon ↗](https://launchpad.ethereum.org/en/erigon)** - (Ethereum, Gnosis)

**[Geth ↗](https://launchpad.ethereum.org/en/geth)** - (Ethereum)

**[Reth ↗](https://github.com/paradigmxyz/reth)** - (Ethereum)

<Admonition type="warning" icon={<img src={useBaseUrl('/img/exclamation_mark.png')} alt="Warning" style={{ width: 20, height: 20 }}/>} title="Special Configuration for Erigon and Reth">
  Event logs must be preserved for the Operator Service to function properly. Both clients require specific configuration to prevent event log pruning:

  <Tabs groupId="special-config" defaultValue="erigon">
    <TabItem value="erigon" label="Erigon">
      ```bash
      # Ethereum Mainnet
      erigon --prune=receipts --prune.to=21471500

      # For other networks, adjust block number to Keeper contract creation block
      ```

      The required flags prevent event log pruning that the Operator reads from certain contracts.

      Alternatively, if you want to save more disk space you can use the block when protocol config was updated. Actual values are defined in [network config ↗](https://github.com/stakewise/v3-operator/blob/master/src/config/networks.py) in Operator sources. See `CONFIG_UPDATE_EVENT_BLOCK` field for selected network.
    </TabItem>
    <TabItem value="reth" label="Reth">
      The required setting in the `reth.toml` is:

      ```toml
      [prune.segments.receipts_log_filter.0x6b5815467da09daa7dc83db21c9239d98bb487b5]
      before = 21471500
      ```

      Here `0x6b5815467da09daa7dc83db21c9239d98bb487b5` is [Keeper contract ↗](https://etherscan.io/address/0x6B5815467da09DaA7DC83Db21c9239d98Bb487b5#code) address on Ethereum Mainnet. Note that the address must be lowercased.

      Alternatively, if you want to save more disk space you can use the block when protocol config was updated. Actual values are defined in [network config ↗](https://github.com/stakewise/v3-operator/blob/master/src/config/networks.py) in Operator sources. See `CONFIG_UPDATE_EVENT_BLOCK` field for selected network.
    </TabItem>
  </Tabs>
</Admonition>

## Consensus Client

Your consensus node must be fully synced and running. Any consensus client that supports [ETH Beacon Node API specification ↗](https://ethereum.github.io/beacon-APIs/#/) can be used:

**[Lighthouse ↗](https://launchpad.ethereum.org/en/lighthouse)** - (Ethereum, Gnosis)

**[Nimbus ↗](https://launchpad.ethereum.org/en/nimbus)** - (Ethereum, Gnosis)

**[Prysm ↗](https://launchpad.ethereum.org/en/prysm)** - (Ethereum)

**[Teku ↗](https://launchpad.ethereum.org/en/teku)** - (Ethereum, Gnosis)

**[Lodestar ↗](https://launchpad.ethereum.org/en/lodestar)** - (Ethereum, Gnosis)

<Admonition type="info" icon={<img src={useBaseUrl('/img/Search.png')} alt="Search" style={{ width: 20, height: 20 }}/>} title="Validator Configuration">
  Configure your validator clients with the correct **fee recipient address**, which can be found in your Vault's "Details" section on the StakeWise interface.
</Admonition>

## Deployed Vault

You must have an active StakeWise Vault deployed and ready for operation.

### Creating a New Vault

If you don't have a Vault yet, follow these steps:

<Admonition type="info" icon={<img src={useBaseUrl('/img/cursor.png')} alt="Cursor" style={{ width: 20, height: 20 }}/>} title="Vault Deployment Process">
  <ol style={{ listStyleType: "none", paddingLeft: "0" }}>
    <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>1.</span> Visit the [StakeWise Operate page ↗](https://app.stakewise.io/operate) and connect your wallet.</li>
    <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>2.</span> Click "Create Vault" to begin configuration.</li>
    <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>3.</span> Process Vault setup step by step.</li>
    <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>4.</span> Once vault is deployed go to its page.</li>
  </ol>
</Admonition>

### Finding Your Vault Address

Once your Vault is deployed, you'll need its contract address for Operator Service configuration:

<Tabs groupId="vault-address-methods">
  <TabItem value="url" label="From URL" default>
   <Admonition type="info" icon={<img src={useBaseUrl('/img/Search.png')} alt="Search" style={{ width: 20, height: 20 }}/>} title="Method 1: URL Bar">
     Navigate to your Vault page - the address is visible in the URL:
      ```
      https://stakewise.io/vault/mainnet/0x1234567890abcdef...
                                         ^^^^^^^^^^^^^^^^^^^
                                          Your Vault Address
      ```
    </Admonition>
  </TabItem>
  <TabItem value="details" label="From Details Section">
    <Admonition type="info" icon={<img src={useBaseUrl('/img/Search.png')} alt="Search" style={{ width: 20, height: 20 }}/>} title="Method 2: Vault Details">
      <ol style={{ listStyleType: "none", paddingLeft: "0" }}>
        <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>1.</span> Go to your Vault page.</li>
        <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>2.</span> Scroll to the bottom to find the "Details" section.</li>
        <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>3.</span> Look for "Contract address" field.</li>
        <li><span style={{ display: "inline-block", width: "3ch", textAlign: "left" }}>4.</span> Copy the displayed address.</li>
      </ol>
    </Admonition>
  </TabItem>
</Tabs>

Your infrastructure is now ready for Operator Service [Installation ↗](installation) 🎉
