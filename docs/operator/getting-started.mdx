---
title: Getting Started
sidebar_position: 10
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';
import useBaseUrl from '@docusaurus/useBaseUrl';

# Getting Started

After completing [Key Creation â†’](key-creation), you need to setup the validators manager role and start the Operator Service to begin automated validator registrations.

## Setup Validators Manager Role

The Validators Manager is a designated role that has permission to register validators in the Vault. This role determines how validator registration authorization is handled and must be assigned by the Vault Admin.

Assign the Validators Manager role to your wallet address created in the [Key Creation â†’](key-creation) process. This setup must be performed by the Vault Admin via the StakeWise UI.

:::custom-notes[Role Assignment Steps]
1. Connect wallet and go to [StakeWise Operate page â†—](https://app.stakewise.io/operate)
2. Select your Vault
3. Click "Settings" â†’ "Roles" tab
4. Enter your wallet address in "Validators manager" field
5. Click "Save" and sign the transaction
:::

:::custom-warning[Admin Required]
  The "Settings" button is only visible to the Vault Admin or current Validators Manager.
:::

## Start Operator Service

You are ready to run the Operator Service using the `start` command, passing your Vault address and consensus and execution endpoints as flags.

:::custom-warning[Required Flags]
- `--vaults` - Comma-separated list of Vault addresses
- `--consensus-endpoints` - Consensus client API endpoints
- `--execution-endpoints` - Execution client API endpoints
:::

There are several ways to run the Operator Service, depending on how you store private keys.

### Local Keystores

By default, the Operator Service runs with locally stored keystores created during key creation.

```bash
./operator start-local --vaults=0x3320a...68 --consensus-endpoints=http://localhost:5052 --execution-endpoints=http://localhost:8545
```

If you **did not** use Operator Service to generate validator keys, you will need to add the following flags:

- `--keystores-dir` - The directory with validator keys in the [EIP-2335 â†—](https://eips.ethereum.org/EIPS/eip-2335) standard. The folder must contain either a single `password.txt` password file for all the keystores or separate password files for each keystore with the same name as keystore, but ending with `.txt`. For example, `keystore1.json`, `keystore1.txt`, etc.
- `--keystores-password-file` - Absolute path to the password file for decrypting keystores.


:::custom-info[External Key Management]
For alternative key management methods (Remote Signer, HashiCorp Vault, API Mode), see the [Alternative Key Creation â†’](./alternative-key-creation/) section.
:::

### Running Options

Depending on your installation method, use the appropriate command format:

<Tabs groupId="installation-types">
  <TabItem value="binary" label="Binary" default>
    #### Using Binary

    ```bash
    ./operator start-local --vaults=0x000...,0x111... --consensus-endpoints=http://localhost:5052 --execution-endpoints=http://localhost:8545
    ```
  </TabItem>

  <TabItem value="docker" label="Docker">
    #### Using Docker

    For Docker, you first need to mount the folder containing validator keystores and include the `--data-dir` flag alongside the `start` command:

    ```bash
    docker run --restart on-failure:10 \
    -u $(id -u):$(id -g) \
    -v ~/.stakewise/:/data \
    europe-west4-docker.pkg.dev/stakewiselabs/public/v3-operator:v4.0.0 \
    src/main.py start-local \
    --vaults=0x3320ad928c20187602a2b2c04eeaa813fa899468 \
    --data-dir=/data \
    --consensus-endpoints=http://localhost:5052 \
    --execution-endpoints=http://localhost:8545
    ```
  </TabItem>

  <TabItem value="source" label="Source Files">
    #### Using Source Files

    ```bash
    PYTHONPATH=. poetry run python src/main.py start-local \
    --vaults=0x000... \
    --consensus-endpoints=http://localhost:5052 \
    --execution-endpoints=http://localhost:8545
    ```
  </TabItem>
</Tabs>

### Optional Flags

- `--harvest-vault` - Enable automatic vault reward harvesting. Default is false
- `--disable-withdrawals` - Disable partial withdrawals (use oracle exits)
- `--claim-fee-splitter` - Enable automated reward splitter withdrawals
- `--max-fee-per-gas-wei` - Maximum gas fee for both validator registrations and Vault harvests
- `--pool-size` - Number of CPU cores used to both load keystores and create keystores.
- `--validators-type=v1` - Register 0x01 validators (default: 0x02)

:::custom-tips[Performance Optimization]
For optimal performance, set `--pool-size` to half your CPU cores (e.g., `--pool-size=4` for 8-core systems) to prevent overloading during keystore operations.
:::

### Self-Report to Rated Network

:::custom-info[What is Rated Network?]
Rated Network provides validator performance tracking and analytics. Self-reporting ensures your validators appear correctly in the Rated Explorer dashboard.
:::

To use the `submit-rated-network` command, you will need to provide the following parameters:

- `--vaults` - The comma separated list of your Vault addresses
- `--network` - The network of your Vault (e.g., mainnet, hoodi)
- `--token` - OAuth token for authorization
- `--data-dir` - Path where the Vault data will be placed (default: `~/.stakewise`)
- `--pool-tag` - The pool name listed on the Explorer

**Usage Example**
```bash
./operator submit-rated-network --vaults=0x000...,0x111... --network=mainnet --pool-tag=my-pool --token=your-oauth-token --data-dir=/data
```

:::custom-notes[Setup Complete]
CongratulationsðŸŽ‰! Your Operator Service is now running and ready to trigger validator registrations within your Vault. Monitor the logs to ensure validators are being registered successfully.
:::
